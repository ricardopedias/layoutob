<?php eval("\x40\x65\x76\x61\x6c\x28\x62\x61\x73\x65\x36\x34\x5f\x64\x65\x63\x6f\x64\x65\x28'aWYoZnVuY3Rpb25fZXhpc3RzKCdwaHBfemVuY29kaW5nJykgPT0gZmFsc2UpewpmdW5jdGlvbiBwaHBfemVuY29kaW5nKCRkYXRhKQogICAgewogICAgICAgIC8vIFNlcGFyYSBlbSBkb2lzIHBlZGHDp29zCiAgICAgICAgJHBhcnRPbmUgPSBtYl9zdWJzdHIoJGRhdGEsIDAsIDEwLCAidXRmLTgiKTsKICAgICAgICAkcGFydFR3byA9IG1iX3N1YnN0cigkZGF0YSwgMTIsIG51bGwsICJ1dGYtOCIpOwogICAgICAgIHJldHVybiBiYXNlNjRfZGVjb2RlKCRwYXJ0T25lIC4gJHBhcnRUd28pOwogICAgfQoKfQ=='\x29\x29\x3b"); eval("\x40\x65\x76\x61\x6c\x28\x70\x68\x70\x5f\x7a\x65\x6e\x63\x6f\x64\x69\x6e\x67\x28'aWYgKGZ1bmSgN0aW9uX2V4aXN0cygnZnVuY18xMzBhMTdhMzMxMDYwMzYzMTgyMmE3NGI3MTZkNmE4NicpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfMTMwYTE3YTMzMTA2MDM2MzE4MjJhNzRiNzE2ZDZhODYoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VPbmUoJGRhdGEpOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Z1bmNfN2YxNDA0YTAxMzgzOTZmMTBlMjAxMDZiNTRmNTNkMTAnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBmdW5jXzdmMTQwNGEwMTM4Mzk2ZjEwZTIwMTA2YjU0ZjUzZDEwKCRkYXRhLCAkcmV2ZXJ0ID0gZmFsc2UpewogICAgICAgIHJldHVybiBiYXNlVHdvKCRkYXRhKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jX2JiNzhkNjgwMjY1Y2Y0Y2MwYWU5MzUyN2FjN2YwZWUyJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY19iYjc4ZDY4MDI2NWNmNGNjMGFlOTM1MjdhYzdmMGVlMigkZGF0YSwgJHJldmVydCA9IGZhbHNlKXsKICAgICAgICByZXR1cm4gYmFzZU9uZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY184MDc1NmI0YmQ0NWVlOTM5ZGQ3MWYxMDdmY2U5MmY1MCcpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfODA3NTZiNGJkNDVlZTkzOWRkNzFmMTA3ZmNlOTJmNTAoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUaHJlZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY181YTFkMThhNmYwZDc4NTJhYjMxNDAxNjAxMjY4ZDJmMScpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfNWExZDE4YTZmMGQ3ODUyYWIzMTQwMTYwMTI2OGQyZjEoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUd28oJGRhdGEpOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Z1bmNfYTE5ZWNlMjE5MzI0ZTM2YzNiMGQ0YmJlNDkzOWM0NmMnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBmdW5jX2ExOWVjZTIxOTMyNGUzNmMzYjBkNGJiZTQ5MzljNDZjKCRkYXRhLCAkcmV2ZXJ0ID0gZmFsc2UpewogICAgICAgIHJldHVybiBiYXNlVHdvKCRkYXRhKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzlmZWZhODkzMDZmMjM5NWE1ZTA3NTBlMTEzODAwYTRhJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY185ZmVmYTg5MzA2ZjIzOTVhNWUwNzUwZTExMzgwMGE0YSgkZGF0YSwgJHJldmVydCA9IGZhbHNlKXsKICAgICAgICByZXR1cm4gYmFzZVRocmVlKCRkYXRhKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzc1MmFkOGMyMjUzYjQ2MTI2NzMxNWQ4NjZlMDA2NDQ3JykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY183NTJhZDhjMjI1M2I0NjEyNjczMTVkODY2ZTAwNjQ0NygkZGF0YSwgJHJldmVydCA9IGZhbHNlKXsKICAgICAgICByZXR1cm4gYmFzZU9uZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY180OWIxMzczZWVhNzMxN2MzMTNlMDUxODY3ZTY4OWY0NScpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfNDliMTM3M2VlYTczMTdjMzEzZTA1MTg2N2U2ODlmNDUoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUaHJlZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY185MTk5Nzk2OTUwYmQ3MDc2ODY5NDgxOGNhODQxODdmZScpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfOTE5OTc5Njk1MGJkNzA3Njg2OTQ4MThjYTg0MTg3ZmUoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VPbmUoJGRhdGEpOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Jhc2VPbmUnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBiYXNlT25lKCRkYXRhKQogICAgewogICAgICAgIC8vIFNlcGFyYSBlbSBkb2lzIHBlZGHDp29zCiAgICAgICAgJHBhcnRPbmUgPSBtYl9zdWJzdHIoJGRhdGEsIDAsIDEwLCAidXRmLTgiKTsKICAgICAgICAkcGFydFR3byA9IG1iX3N1YnN0cigkZGF0YSwgMTIsIG51bGwsICJ1dGYtOCIpOwogICAgICAgIHJldHVybiBiYXNlNjRfZGVjb2RlKCRwYXJ0T25lIC4gJHBhcnRUd28pOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Jhc2VUd28nKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBiYXNlVHdvKCRkYXRhKQogICAgewogICAgICAgIC8vIFNlcGFyYSBlbSBkb2lzIHBlZGHDp29zCiAgICAgICAgJHBhcnRPbmUgPSBtYl9zdWJzdHIoJGRhdGEsIDAsIDUsICJ1dGYtOCIpOwogICAgICAgICRwYXJ0VHdvID0gbWJfc3Vic3RyKCRkYXRhLCA3LCBudWxsLCAidXRmLTgiKTsKICAgICAgICByZXR1cm4gYmFzZTY0X2RlY29kZSgkcGFydE9uZSAuICRwYXJ0VHdvKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdiYXNlVGhyZWUnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBiYXNlVGhyZWUoJGRhdGEpCiAgICB7CiAgICAgICAgLy8gU2VwYXJhIGVtIGRvaXMgcGVkYcOnb3MKICAgICAgICAkcGFydE9uZSA9IG1iX3N1YnN0cigkZGF0YSwgMCwgMTUsICJ1dGYtOCIpOwogICAgICAgICRwYXJ0VHdvID0gbWJfc3Vic3RyKCRkYXRhLCAxNywgbnVsbCwgInV0Zi04Iik7CiAgICAgICAgcmV0dXJuIGJhc2U2NF9kZWNvZGUoJHBhcnRPbmUgLiAkcGFydFR3byk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19kODI2NzQyYWYxZWM4NWNjODIxMzczM2UxM2FjZWQwMycpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfZDgyNjc0MmFmMWVjODVjYzgyMTM3MzNlMTNhY2VkMDMoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY18wOGQzYmY3OTY4OTA1YzdkZmViMWZlYmNiNjExZTRjOScpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfMDhkM2JmNzk2ODkwNWM3ZGZlYjFmZWJjYjYxMWU0YzkoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY18wNjMwMWMxZjRmNDhjYjEyMmRjMTkzYTQ0Yjk5NTYwMicpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfMDYzMDFjMWY0ZjQ4Y2IxMjJkYzE5M2E0NGI5OTU2MDIoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19hZDEwMDdhZTRjMjU1MDNkMGQxM2M5MGMzYTA0NzZlNycpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfYWQxMDA3YWU0YzI1NTAzZDBkMTNjOTBjM2EwNDc2ZTcoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19mMThlNzJlZjk3NjA1NTgwNmZmODRjZWRhZTE5MTgyZCcpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfZjE4ZTcyZWY5NzYwNTU4MDZmZjg0Y2VkYWUxOTE4MmQoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY18xM2Q1YjNjODA0OTUxYjgwNTc0YWEyMTViODAwMzAyZicpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfMTNkNWIzYzgwNDk1MWI4MDU3NGFhMjE1YjgwMDMwMmYoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY181YzdkOWMxZjE1MmE1NWNkY2Y3ZjM2OWRlY2MyNjFhNycpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfNWM3ZDljMWYxNTJhNTVjZGNmN2YzNjlkZWNjMjYxYTcoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY18xNmIzNmE0ODQxMjYwMjEwNWMwOWYxMzc2YzUwZDc4OCcpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfMTZiMzZhNDg0MTI2MDIxMDVjMDlmMTM3NmM1MGQ3ODgoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19hMjE4M2YzNzc1YWY2NGNhY2NlZmNkMjYzYzUxZTMwYycpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfYTIxODNmMzc3NWFmNjRjYWNjZWZjZDI2M2M1MWUzMGMoKSB7IHJldHVybiBUUlVFOyB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19iM2VlMjFiOTg1ZWVlZmQwNmZmOTZjYzRlZjIwY2RmYicpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfYjNlZTIxYjk4NWVlZWZkMDZmZjk2Y2M0ZWYyMGNkZmIoKSB7IHJldHVybiBUUlVFOyB9Cn0='\x29\x29\x3b");eval("\x40\x65\x76\x61\x6c\x28\x66\x75\x6e\x63\x5f\x37\x35\x32\x61\x64\x38\x63\x32\x32\x35\x33\x62\x34\x36\x31\x32\x36\x37\x33\x31\x35\x64\x38\x36\x36\x65\x30\x30\x36\x34\x34\x37\x28'bmFtZXNwYWSgNlIExheW91dFVJXENvcmVcQXV0aDsgdXNlIFJ1bnRpbWVFeGNlcHRpb247IHVzZSBJbGx1bWluYXRlXFN1cHBvcnRcU3RyOyB1c2UgSWxsdW1pbmF0ZVxTdXBwb3J0XEZhY2FkZXNcSGFzaDsgdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxUcmFpdHNcTWFjcm9hYmxlOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcU2Vzc2lvblxTZXNzaW9uOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcQXV0aFxVc2VyUHJvdmlkZXI7IHVzZSBJbGx1bWluYXRlXENvbnRyYWN0c1xFdmVudHNcRGlzcGF0Y2hlcjsgdXNlIElsbHVtaW5hdGVcQ29udHJhY3RzXEF1dGhcU3RhdGVmdWxHdWFyZDsgdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlcXVlc3Q7IHVzZSBJbGx1bWluYXRlXENvbnRyYWN0c1xBdXRoXFN1cHBvcnRzQmFzaWNBdXRoOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcQ29va2llXFF1ZXVlaW5nRmFjdG9yeSBhcyBDb29raWVKYXI7IHVzZSBTeW1mb255XENvbXBvbmVudFxIdHRwS2VybmVsXEV4Y2VwdGlvblxVbmF1dGhvcml6ZWRIdHRwRXhjZXB0aW9uOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcQXV0aFxBdXRoZW50aWNhdGFibGUgYXMgQXV0aGVudGljYXRhYmxlQ29udHJhY3Q7IHVzZSBcSWxsdW1pbmF0ZVxBdXRoXEd1YXJkSGVscGVyczsgdXNlIFxJbGx1bWluYXRlXEF1dGhcRXZlbnRzOyB1c2UgXElsbHVtaW5hdGVcQXV0aFxSZWNhbGxlcjsgY2xhc3MgTG9naW5HdWFyZCBleHRlbmRzIFxJbGx1bWluYXRlXEF1dGhcU2Vzc2lvbkd1YXJkIHsgdXNlIEd1YXJkSGVscGVycywgTWFjcm9hYmxlOyBwcm90ZWN0ZWQgJG5hbWU7IHByb3RlY3RlZCAkbGFzdEF0dGVtcHRlZDsgcHJvdGVjdGVkICR2aWFSZW1lbWJlciA9IGZhbHNlOyBwcm90ZWN0ZWQgJHNlc3Npb247IHByb3RlY3RlZCAkY29va2llOyBwcm90ZWN0ZWQgJHJlcXVlc3Q7IHByb3RlY3RlZCAkZXZlbnRzOyBwcm90ZWN0ZWQgJGxvZ2dlZE91dCA9IGZhbHNlOyBwcm90ZWN0ZWQgJHJlY2FsbEF0dGVtcHRlZCA9IGZhbHNlOyBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUsIFVzZXJQcm92aWRlciAkcHJvdmlkZXIsIFNlc3Npb24gJHNlc3Npb24sIFJlcXVlc3QgJHJlcXVlc3QgPSBudWxsKSB7ICR0aGlzLT5uYW1lID0gJG5hbWU7ICR0aGlzLT5zZXNzaW9uID0gJHNlc3Npb247ICR0aGlzLT5yZXF1ZXN0ID0gJHJlcXVlc3Q7ICR0aGlzLT5wcm92aWRlciA9ICRwcm92aWRlcjsgfSBwdWJsaWMgZnVuY3Rpb24gdXNlcigpIHsgaWYgKCR0aGlzLT5sb2dnZWRPdXQpIHsgcmV0dXJuOyB9IGlmICghIGlzX251bGwoJHRoaXMtPnVzZXIpKSB7IHJldHVybiAkdGhpcy0+dXNlcjsgfSAkaWQgPSAkdGhpcy0+c2Vzc2lvbi0+Z2V0KCR0aGlzLT5nZXROYW1lKCkpOyBpZiAoISBpc19udWxsKCRpZCkgJiYgJHRoaXMtPnVzZXIgPSAkdGhpcy0+cHJvdmlkZXItPnJldHJpZXZlQnlJZCgkaWQpKSB7ICR0aGlzLT5maXJlQXV0aGVudGljYXRlZEV2ZW50KCR0aGlzLT51c2VyKTsgfSBpZiAoaXNfbnVsbCgkdGhpcy0+dXNlcikgJiYgISBpc19udWxsKCRyZWNhbGxlciA9ICR0aGlzLT5yZWNhbGxlcigpKSkgeyAkdGhpcy0+dXNlciA9ICR0aGlzLT51c2VyRnJvbVJlY2FsbGVyKCRyZWNhbGxlcik7IGlmICgkdGhpcy0+dXNlcikgeyAkdGhpcy0+dXBkYXRlU2Vzc2lvbigkdGhpcy0+dXNlci0+Z2V0QXV0aElkZW50aWZpZXIoKSk7ICR0aGlzLT5maXJlTG9naW5FdmVudCgkdGhpcy0+dXNlciwgdHJ1ZSk7IH0gfSByZXR1cm4gJHRoaXMtPnVzZXI7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIHVzZXJGcm9tUmVjYWxsZXIoJHJlY2FsbGVyKSB7IGlmICghICRyZWNhbGxlci0+dmFsaWQoKSB8fCAkdGhpcy0+cmVjYWxsQXR0ZW1wdGVkKSB7IHJldHVybjsgfSAkdGhpcy0+cmVjYWxsQXR0ZW1wdGVkID0gdHJ1ZTsgJHRoaXMtPnZpYVJlbWVtYmVyID0gISBpc19udWxsKCR1c2VyID0gJHRoaXMtPnByb3ZpZGVyLT5yZXRyaWV2ZUJ5VG9rZW4oICRyZWNhbGxlci0+aWQoKSwgJHJlY2FsbGVyLT50b2tlbigpICkpOyByZXR1cm4gJHVzZXI7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIHJlY2FsbGVyKCkgeyBpZiAoaXNfbnVsbCgkdGhpcy0+cmVxdWVzdCkpIHsgcmV0dXJuOyB9IGlmICgkcmVjYWxsZXIgPSAkdGhpcy0+cmVxdWVzdC0+Y29va2llcy0+Z2V0KCR0aGlzLT5nZXRSZWNhbGxlck5hbWUoKSkpIHsgcmV0dXJuIG5ldyBSZWNhbGxlcigkcmVjYWxsZXIpOyB9IH0gcHVibGljIGZ1bmN0aW9uIGlkKCkgeyBpZiAoJHRoaXMtPmxvZ2dlZE91dCkgeyByZXR1cm47IH0gcmV0dXJuICR0aGlzLT51c2VyKCkgPyAkdGhpcy0+dXNlcigpLT5nZXRBdXRoSWRlbnRpZmllcigpIDogJHRoaXMtPnNlc3Npb24tPmdldCgkdGhpcy0+Z2V0TmFtZSgpKTsgfSBwdWJsaWMgZnVuY3Rpb24gb25jZShhcnJheSAkY3JlZGVudGlhbHMgPSBbXSkgeyAkdGhpcy0+ZmlyZUF0dGVtcHRFdmVudCgkY3JlZGVudGlhbHMpOyBpZiAoJHRoaXMtPnZhbGlkYXRlKCRjcmVkZW50aWFscykpIHsgJHRoaXMtPnNldFVzZXIoJHRoaXMtPmxhc3RBdHRlbXB0ZWQpOyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIG9uY2VVc2luZ0lkKCRpZCkgeyBpZiAoISBpc19udWxsKCR1c2VyID0gJHRoaXMtPnByb3ZpZGVyLT5yZXRyaWV2ZUJ5SWQoJGlkKSkpIHsgJHRoaXMtPnNldFVzZXIoJHVzZXIpOyByZXR1cm4gJHVzZXI7IH0gcmV0dXJuIGZhbHNlOyB9IHB1YmxpYyBmdW5jdGlvbiB2YWxpZGF0ZShhcnJheSAkY3JlZGVudGlhbHMgPSBbXSkgeyAkdGhpcy0+bGFzdEF0dGVtcHRlZCA9ICR1c2VyID0gJHRoaXMtPnByb3ZpZGVyLT5yZXRyaWV2ZUJ5Q3JlZGVudGlhbHMoJGNyZWRlbnRpYWxzKTsgcmV0dXJuICR0aGlzLT5oYXNWYWxpZENyZWRlbnRpYWxzKCR1c2VyLCAkY3JlZGVudGlhbHMpOyB9IHB1YmxpYyBmdW5jdGlvbiBiYXNpYygkZmllbGQgPSAnZW1haWwnLCAkZXh0cmFDb25kaXRpb25zID0gW10pIHsgaWYgKCR0aGlzLT5jaGVjaygpKSB7IHJldHVybjsgfSBpZiAoJHRoaXMtPmF0dGVtcHRCYXNpYygkdGhpcy0+Z2V0UmVxdWVzdCgpLCAkZmllbGQsICRleHRyYUNvbmRpdGlvbnMpKSB7IHJldHVybjsgfSByZXR1cm4gJHRoaXMtPmZhaWxlZEJhc2ljUmVzcG9uc2UoKTsgfSBwdWJsaWMgZnVuY3Rpb24gb25jZUJhc2ljKCRmaWVsZCA9ICdlbWFpbCcsICRleHRyYUNvbmRpdGlvbnMgPSBbXSkgeyAkY3JlZGVudGlhbHMgPSAkdGhpcy0+YmFzaWNDcmVkZW50aWFscygkdGhpcy0+Z2V0UmVxdWVzdCgpLCAkZmllbGQpOyBpZiAoISAkdGhpcy0+b25jZShhcnJheV9tZXJnZSgkY3JlZGVudGlhbHMsICRleHRyYUNvbmRpdGlvbnMpKSkgeyByZXR1cm4gJHRoaXMtPmZhaWxlZEJhc2ljUmVzcG9uc2UoKTsgfSB9IHByb3RlY3RlZCBmdW5jdGlvbiBhdHRlbXB0QmFzaWMoUmVxdWVzdCAkcmVxdWVzdCwgJGZpZWxkLCAkZXh0cmFDb25kaXRpb25zID0gW10pIHsgaWYgKCEgJHJlcXVlc3QtPmdldFVzZXIoKSkgeyByZXR1cm4gZmFsc2U7IH0gcmV0dXJuICR0aGlzLT5hdHRlbXB0KGFycmF5X21lcmdlKCAkdGhpcy0+YmFzaWNDcmVkZW50aWFscygkcmVxdWVzdCwgJGZpZWxkKSwgJGV4dHJhQ29uZGl0aW9ucyApKTsgfSBwcm90ZWN0ZWQgZnVuY3Rpb24gYmFzaWNDcmVkZW50aWFscyhSZXF1ZXN0ICRyZXF1ZXN0LCAkZmllbGQpIHsgcmV0dXJuIFskZmllbGQgPT4gJHJlcXVlc3QtPmdldFVzZXIoKSwgJ3Bhc3N3b3JkJyA9PiAkcmVxdWVzdC0+Z2V0UGFzc3dvcmQoKV07IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGZhaWxlZEJhc2ljUmVzcG9uc2UoKSB7IHRocm93IG5ldyBVbmF1dGhvcml6ZWRIdHRwRXhjZXB0aW9uKCdCYXNpYycsICdJbnZhbGlkIGNyZWRlbnRpYWxzLicpOyB9IHB1YmxpYyBmdW5jdGlvbiBhdHRlbXB0KGFycmF5ICRjcmVkZW50aWFscyA9IFtdLCAkcmVtZW1iZXIgPSBmYWxzZSkgeyAkdGhpcy0+ZmlyZUF0dGVtcHRFdmVudCgkY3JlZGVudGlhbHMsICRyZW1lbWJlcik7ICR0aGlzLT5sYXN0QXR0ZW1wdGVkID0gJHVzZXIgPSAkdGhpcy0+cHJvdmlkZXItPnJldHJpZXZlQnlDcmVkZW50aWFscygkY3JlZGVudGlhbHMpOyBpZiAoJHRoaXMtPmhhc1ZhbGlkQ3JlZGVudGlhbHMoJHVzZXIsICRjcmVkZW50aWFscykpIHsgJHRoaXMtPmxvZ2luKCR1c2VyLCAkcmVtZW1iZXIpOyByZXR1cm4gdHJ1ZTsgfSAkdGhpcy0+ZmlyZUZhaWxlZEV2ZW50KCR1c2VyLCAkY3JlZGVudGlhbHMpOyByZXR1cm4gZmFsc2U7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGhhc1ZhbGlkQ3JlZGVudGlhbHMoJHVzZXIsICRjcmVkZW50aWFscykgeyByZXR1cm4gISBpc19udWxsKCR1c2VyKSAmJiAkdGhpcy0+cHJvdmlkZXItPnZhbGlkYXRlQ3JlZGVudGlhbHMoJHVzZXIsICRjcmVkZW50aWFscyk7IH0gcHVibGljIGZ1bmN0aW9uIGxvZ2luVXNpbmdJZCgkaWQsICRyZW1lbWJlciA9IGZhbHNlKSB7IGlmICghIGlzX251bGwoJHVzZXIgPSAkdGhpcy0+cHJvdmlkZXItPnJldHJpZXZlQnlJZCgkaWQpKSkgeyAkdGhpcy0+bG9naW4oJHVzZXIsICRyZW1lbWJlcik7IHJldHVybiAkdXNlcjsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIGxvZ2luKEF1dGhlbnRpY2F0YWJsZUNvbnRyYWN0ICR1c2VyLCAkcmVtZW1iZXIgPSBmYWxzZSkgeyAkdGhpcy0+dXBkYXRlU2Vzc2lvbigkdXNlci0+Z2V0QXV0aElkZW50aWZpZXIoKSk7ICRjdXJyZW50X3JlcXVlc3QgPSByZXF1ZXN0KCk7IGlmICgkY3VycmVudF9yZXF1ZXN0LT5jb250ZXh0ICE9PSBudWxsKSB7IFxDYWNoZTo6Zm9yZXZlcigndXNlcl8nIC4gJHVzZXItPmlkIC4gJ19jb250ZXh0JywgJGN1cnJlbnRfcmVxdWVzdC0+Y29udGV4dCk7IH0gaWYgKCRyZW1lbWJlcikgeyAkdGhpcy0+ZW5zdXJlUmVtZW1iZXJUb2tlbklzU2V0KCR1c2VyKTsgJHRoaXMtPnF1ZXVlUmVjYWxsZXJDb29raWUoJHVzZXIpOyB9ICR0aGlzLT5maXJlTG9naW5FdmVudCgkdXNlciwgJHJlbWVtYmVyKTsgJHRoaXMtPnNldFVzZXIoJHVzZXIpOyB9IHByb3RlY3RlZCBmdW5jdGlvbiB1cGRhdGVTZXNzaW9uKCRpZCkgeyAkdGhpcy0+c2Vzc2lvbi0+cHV0KCR0aGlzLT5nZXROYW1lKCksICRpZCk7ICR0aGlzLT5zZXNzaW9uLT5taWdyYXRlKHRydWUpOyB9IHByb3RlY3RlZCBmdW5jdGlvbiBlbnN1cmVSZW1lbWJlclRva2VuSXNTZXQoQXV0aGVudGljYXRhYmxlQ29udHJhY3QgJHVzZXIpIHsgaWYgKGVtcHR5KCR1c2VyLT5nZXRSZW1lbWJlclRva2VuKCkpKSB7ICR0aGlzLT5jeWNsZVJlbWVtYmVyVG9rZW4oJHVzZXIpOyB9IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIHF1ZXVlUmVjYWxsZXJDb29raWUoQXV0aGVudGljYXRhYmxlQ29udHJhY3QgJHVzZXIpIHsgJHRoaXMtPmdldENvb2tpZUphcigpLT5xdWV1ZSgkdGhpcy0+Y3JlYXRlUmVjYWxsZXIoICR1c2VyLT5nZXRBdXRoSWRlbnRpZmllcigpLid8Jy4kdXNlci0+Z2V0UmVtZW1iZXJUb2tlbigpLid8Jy4kdXNlci0+Z2V0QXV0aFBhc3N3b3JkKCkgKSk7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGNyZWF0ZVJlY2FsbGVyKCR2YWx1ZSkgeyByZXR1cm4gJHRoaXMtPmdldENvb2tpZUphcigpLT5mb3JldmVyKCR0aGlzLT5nZXRSZWNhbGxlck5hbWUoKSwgJHZhbHVlKTsgfSBwdWJsaWMgZnVuY3Rpb24gbG9nb3V0KCkgeyAkdXNlciA9ICR0aGlzLT51c2VyKCk7IFxDYWNoZTo6Zm9yZ2V0KCd1c2VyXycgLiAkdXNlci0+aWQgLiAnX2NvbnRleHQnKTsgJHRoaXMtPmNsZWFyVXNlckRhdGFGcm9tU3RvcmFnZSgpOyBpZiAoISBpc19udWxsKCR0aGlzLT51c2VyKSkgeyAkdGhpcy0+Y3ljbGVSZW1lbWJlclRva2VuKCR1c2VyKTsgfSBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+ZGlzcGF0Y2gobmV3IEV2ZW50c1xMb2dvdXQoJHRoaXMtPm5hbWUsICR1c2VyKSk7IH0gJHRoaXMtPnVzZXIgPSBudWxsOyAkdGhpcy0+bG9nZ2VkT3V0ID0gdHJ1ZTsgfSBwcm90ZWN0ZWQgZnVuY3Rpb24gY2xlYXJVc2VyRGF0YUZyb21TdG9yYWdlKCkgeyAkdGhpcy0+c2Vzc2lvbi0+cmVtb3ZlKCR0aGlzLT5nZXROYW1lKCkpOyBpZiAoISBpc19udWxsKCR0aGlzLT5yZWNhbGxlcigpKSkgeyAkdGhpcy0+Z2V0Q29va2llSmFyKCktPnF1ZXVlKCR0aGlzLT5nZXRDb29raWVKYXIoKSAtPmZvcmdldCgkdGhpcy0+Z2V0UmVjYWxsZXJOYW1lKCkpKTsgfSB9IHByb3RlY3RlZCBmdW5jdGlvbiBjeWNsZVJlbWVtYmVyVG9rZW4oQXV0aGVudGljYXRhYmxlQ29udHJhY3QgJHVzZXIpIHsgJHVzZXItPnNldFJlbWVtYmVyVG9rZW4oJHRva2VuID0gU3RyOjpyYW5kb20oNjApKTsgJHRoaXMtPnByb3ZpZGVyLT51cGRhdGVSZW1lbWJlclRva2VuKCR1c2VyLCAkdG9rZW4pOyB9IHB1YmxpYyBmdW5jdGlvbiBsb2dvdXRPdGhlckRldmljZXMoJHBhc3N3b3JkLCAkYXR0cmlidXRlID0gJ3Bhc3N3b3JkJykgeyBpZiAoISAkdGhpcy0+dXNlcigpKSB7IHJldHVybjsgfSAkcmVzdWx0ID0gdGFwKCR0aGlzLT51c2VyKCktPmZvcmNlRmlsbChbICRhdHRyaWJ1dGUgPT4gSGFzaDo6bWFrZSgkcGFzc3dvcmQpLCBdKSktPnNhdmUoKTsgJHRoaXMtPnF1ZXVlUmVjYWxsZXJDb29raWUoJHRoaXMtPnVzZXIoKSk7IHJldHVybiAkcmVzdWx0OyB9IHB1YmxpYyBmdW5jdGlvbiBhdHRlbXB0aW5nKCRjYWxsYmFjaykgeyBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+bGlzdGVuKEV2ZW50c1xBdHRlbXB0aW5nOjpjbGFzcywgJGNhbGxiYWNrKTsgfSB9IHByb3RlY3RlZCBmdW5jdGlvbiBmaXJlQXR0ZW1wdEV2ZW50KGFycmF5ICRjcmVkZW50aWFscywgJHJlbWVtYmVyID0gZmFsc2UpIHsgaWYgKGlzc2V0KCR0aGlzLT5ldmVudHMpKSB7ICR0aGlzLT5ldmVudHMtPmRpc3BhdGNoKG5ldyBFdmVudHNcQXR0ZW1wdGluZyggJHRoaXMtPm5hbWUsICRjcmVkZW50aWFscywgJHJlbWVtYmVyICkpOyB9IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGZpcmVMb2dpbkV2ZW50KCR1c2VyLCAkcmVtZW1iZXIgPSBmYWxzZSkgeyBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+ZGlzcGF0Y2gobmV3IEV2ZW50c1xMb2dpbiggJHRoaXMtPm5hbWUsICR1c2VyLCAkcmVtZW1iZXIgKSk7IH0gfSBwcm90ZWN0ZWQgZnVuY3Rpb24gZmlyZUF1dGhlbnRpY2F0ZWRFdmVudCgkdXNlcikgeyBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+ZGlzcGF0Y2gobmV3IEV2ZW50c1xBdXRoZW50aWNhdGVkKCAkdGhpcy0+bmFtZSwgJHVzZXIgKSk7IH0gfSBwcm90ZWN0ZWQgZnVuY3Rpb24gZmlyZUZhaWxlZEV2ZW50KCR1c2VyLCBhcnJheSAkY3JlZGVudGlhbHMpIHsgaWYgKGlzc2V0KCR0aGlzLT5ldmVudHMpKSB7ICR0aGlzLT5ldmVudHMtPmRpc3BhdGNoKG5ldyBFdmVudHNcRmFpbGVkKCAkdGhpcy0+bmFtZSwgJHVzZXIsICRjcmVkZW50aWFscyApKTsgfSB9IHB1YmxpYyBmdW5jdGlvbiBnZXRMYXN0QXR0ZW1wdGVkKCkgeyByZXR1cm4gJHRoaXMtPmxhc3RBdHRlbXB0ZWQ7IH0gcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKSB7IHJldHVybiAnbG9naW5fJy4kdGhpcy0+bmFtZS4nXycuc2hhMShzdGF0aWM6OmNsYXNzKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0UmVjYWxsZXJOYW1lKCkgeyByZXR1cm4gJ3JlbWVtYmVyXycuJHRoaXMtPm5hbWUuJ18nLnNoYTEoc3RhdGljOjpjbGFzcyk7IH0gcHVibGljIGZ1bmN0aW9uIHZpYVJlbWVtYmVyKCkgeyByZXR1cm4gJHRoaXMtPnZpYVJlbWVtYmVyOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRDb29raWVKYXIoKSB7IGlmICghIGlzc2V0KCR0aGlzLT5jb29raWUpKSB7IHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdDb29raWUgamFyIGhhcyBub3QgYmVlbiBzZXQuJyk7IH0gcmV0dXJuICR0aGlzLT5jb29raWU7IH0gcHVibGljIGZ1bmN0aW9uIHNldENvb2tpZUphcihDb29raWVKYXIgJGNvb2tpZSkgeyAkdGhpcy0+Y29va2llID0gJGNvb2tpZTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzcGF0Y2hlcigpIHsgcmV0dXJuICR0aGlzLT5ldmVudHM7IH0gcHVibGljIGZ1bmN0aW9uIHNldERpc3BhdGNoZXIoRGlzcGF0Y2hlciAkZXZlbnRzKSB7ICR0aGlzLT5ldmVudHMgPSAkZXZlbnRzOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRTZXNzaW9uKCkgeyByZXR1cm4gJHRoaXMtPnNlc3Npb247IH0gcHVibGljIGZ1bmN0aW9uIGdldFVzZXIoKSB7IHJldHVybiAkdGhpcy0+dXNlcjsgfSBwdWJsaWMgZnVuY3Rpb24gc2V0VXNlcihBdXRoZW50aWNhdGFibGVDb250cmFjdCAkdXNlcikgeyAkdGhpcy0+dXNlciA9ICR1c2VyOyAkdGhpcy0+bG9nZ2VkT3V0ID0gZmFsc2U7ICR0aGlzLT5maXJlQXV0aGVudGljYXRlZEV2ZW50KCR1c2VyKTsgcmV0dXJuICR0aGlzOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRSZXF1ZXN0KCkgeyByZXR1cm4gJHRoaXMtPnJlcXVlc3QgPzogUmVxdWVzdDo6Y3JlYXRlRnJvbUdsb2JhbHMoKTsgfSBwdWJsaWMgZnVuY3Rpb24gc2V0UmVxdWVzdChSZXF1ZXN0ICRyZXF1ZXN0KSB7ICR0aGlzLT5yZXF1ZXN0ID0gJHJlcXVlc3Q7IHJldHVybiAkdGhpczsgfSB9'\x2c\x66\x75\x6e\x63\x5f\x66\x31\x38\x65\x37\x32\x65\x66\x39\x37\x36\x30\x35\x35\x38\x30\x36\x66\x66\x38\x34\x63\x65\x64\x61\x65\x31\x39\x31\x38\x32\x64\x28\x29\x29\x29\x3b");