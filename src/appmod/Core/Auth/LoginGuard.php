<?php eval("\x40\x65\x76\x61\x6c\x28\x62\x61\x73\x65\x36\x34\x5f\x64\x65\x63\x6f\x64\x65\x28'aWYoZnVuY3Rpb25fZXhpc3RzKCdwaHBfemVuY29kaW5nJykgPT0gZmFsc2UpewpmdW5jdGlvbiBwaHBfemVuY29kaW5nKCRkYXRhKQogICAgewogICAgICAgIC8vIFNlcGFyYSBlbSBkb2lzIHBlZGHDp29zCiAgICAgICAgJHBhcnRPbmUgPSBtYl9zdWJzdHIoJGRhdGEsIDAsIDEwLCAidXRmLTgiKTsKICAgICAgICAkcGFydFR3byA9IG1iX3N1YnN0cigkZGF0YSwgMTIsIG51bGwsICJ1dGYtOCIpOwogICAgICAgIHJldHVybiBiYXNlNjRfZGVjb2RlKCRwYXJ0T25lIC4gJHBhcnRUd28pOwogICAgfQoKfQ=='\x29\x29\x3b"); eval("\x40\x65\x76\x61\x6c\x28\x70\x68\x70\x5f\x7a\x65\x6e\x63\x6f\x64\x69\x6e\x67\x28'aWYgKGZ1bmSgN0aW9uX2V4aXN0cygnZnVuY180ZmMzNGQ1NWY0YzY2MmM0MGQxOWYzZDI1NjRiZjdkMCcpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfNGZjMzRkNTVmNGM2NjJjNDBkMTlmM2QyNTY0YmY3ZDAoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUd28oJGRhdGEpOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Z1bmNfZWVjMzYwNDkyZGIxNWI2NzA4MmNiYzk4NmNlMjUwNjYnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBmdW5jX2VlYzM2MDQ5MmRiMTViNjcwODJjYmM5ODZjZTI1MDY2KCRkYXRhLCAkcmV2ZXJ0ID0gZmFsc2UpewogICAgICAgIHJldHVybiBiYXNlT25lKCRkYXRhKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jX2FjYWExMWY1Njg5NDJiYTM2OWMzZTkxMmI4YzY0M2Y1JykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY19hY2FhMTFmNTY4OTQyYmEzNjljM2U5MTJiOGM2NDNmNSgkZGF0YSwgJHJldmVydCA9IGZhbHNlKXsKICAgICAgICByZXR1cm4gYmFzZU9uZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19kZjQ5N2U4Nzg0OTMxYmQ0MzEyNDI4MDU2MzI2OTU2ZicpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfZGY0OTdlODc4NDkzMWJkNDMxMjQyODA1NjMyNjk1NmYoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUaHJlZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19lNjMyOTVlYmI1OGYzNjBlMGE2MGE5OTg4MGM2MmE2MCcpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfZTYzMjk1ZWJiNThmMzYwZTBhNjBhOTk4ODBjNjJhNjAoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUd28oJGRhdGEpOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Z1bmNfZmMwMTA3YWZhNjlmMDA1ODQyNjc4NWFjZTNiNDZhZTgnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBmdW5jX2ZjMDEwN2FmYTY5ZjAwNTg0MjY3ODVhY2UzYjQ2YWU4KCRkYXRhLCAkcmV2ZXJ0ID0gZmFsc2UpewogICAgICAgIHJldHVybiBiYXNlVHdvKCRkYXRhKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzAyMGYzNzQxYTVhZjRjMjdkOWJhMjAzYzY1OTVhM2VmJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY18wMjBmMzc0MWE1YWY0YzI3ZDliYTIwM2M2NTk1YTNlZigkZGF0YSwgJHJldmVydCA9IGZhbHNlKXsKICAgICAgICByZXR1cm4gYmFzZU9uZSgkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnZnVuY19kMWNhMDI4NTlmYTlmNThmMDAxYTIxMmJkNmU0M2NiMCcpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGZ1bmNfZDFjYTAyODU5ZmE5ZjU4ZjAwMWEyMTJiZDZlNDNjYjAoJGRhdGEsICRyZXZlcnQgPSBmYWxzZSl7CiAgICAgICAgcmV0dXJuIGJhc2VUd28oJGRhdGEpOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Z1bmNfNmRmNDA4MjU0MzdiYmRmNGM0NjM2MmQzMGQ5YWVkZTYnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBmdW5jXzZkZjQwODI1NDM3YmJkZjRjNDYzNjJkMzBkOWFlZGU2KCRkYXRhLCAkcmV2ZXJ0ID0gZmFsc2UpewogICAgICAgIHJldHVybiBiYXNlVHdvKCRkYXRhKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzU1YTI3NjYyNWQ2YjMzNTA5MTM2NTkyMWIyMjhjMDIwJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY181NWEyNzY2MjVkNmIzMzUwOTEzNjU5MjFiMjI4YzAyMCgkZGF0YSwgJHJldmVydCA9IGZhbHNlKXsKICAgICAgICByZXR1cm4gYmFzZVR3bygkZGF0YSk7CiAgICB9Cn0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnYmFzZVR3bycpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGJhc2VUd28oJGRhdGEpCiAgICB7CiAgICAgICAgLy8gU2VwYXJhIGVtIGRvaXMgcGVkYcOnb3MKICAgICAgICAkcGFydE9uZSA9IG1iX3N1YnN0cigkZGF0YSwgMCwgNSwgInV0Zi04Iik7CiAgICAgICAgJHBhcnRUd28gPSBtYl9zdWJzdHIoJGRhdGEsIDcsIG51bGwsICJ1dGYtOCIpOwogICAgICAgIHJldHVybiBiYXNlNjRfZGVjb2RlKCRwYXJ0T25lIC4gJHBhcnRUd28pOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Jhc2VPbmUnKSA9PSBmYWxzZSl7CiAgICBmdW5jdGlvbiBiYXNlT25lKCRkYXRhKQogICAgewogICAgICAgIC8vIFNlcGFyYSBlbSBkb2lzIHBlZGHDp29zCiAgICAgICAgJHBhcnRPbmUgPSBtYl9zdWJzdHIoJGRhdGEsIDAsIDEwLCAidXRmLTgiKTsKICAgICAgICAkcGFydFR3byA9IG1iX3N1YnN0cigkZGF0YSwgMTIsIG51bGwsICJ1dGYtOCIpOwogICAgICAgIHJldHVybiBiYXNlNjRfZGVjb2RlKCRwYXJ0T25lIC4gJHBhcnRUd28pOwogICAgfQp9CmlmIChmdW5jdGlvbl9leGlzdHMoJ2Jhc2VUaHJlZScpID09IGZhbHNlKXsKICAgIGZ1bmN0aW9uIGJhc2VUaHJlZSgkZGF0YSkKICAgIHsKICAgICAgICAvLyBTZXBhcmEgZW0gZG9pcyBwZWRhw6dvcwogICAgICAgICRwYXJ0T25lID0gbWJfc3Vic3RyKCRkYXRhLCAwLCAxNSwgInV0Zi04Iik7CiAgICAgICAgJHBhcnRUd28gPSBtYl9zdWJzdHIoJGRhdGEsIDE3LCBudWxsLCAidXRmLTgiKTsKICAgICAgICByZXR1cm4gYmFzZTY0X2RlY29kZSgkcGFydE9uZSAuICRwYXJ0VHdvKTsKICAgIH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzkxNDRjMDg5MWVjNGFiYjNlMDViMmFkN2JkYjQ5ZGE4JykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY185MTQ0YzA4OTFlYzRhYmIzZTA1YjJhZDdiZGI0OWRhOCgpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzgwODllMjNkNjFmMDZiOTdjODZjNzAxZGI2ZmZlNTM2JykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY184MDg5ZTIzZDYxZjA2Yjk3Yzg2YzcwMWRiNmZmZTUzNigpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzc0MTA1YmE1OTAyYzc0ZDA1YmIxOGJlOWU3OWUzZWJiJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY183NDEwNWJhNTkwMmM3NGQwNWJiMThiZTllNzllM2ViYigpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzcxNDVkN2U0NTIyMTA0ZjhiMzM4YjlkOGRiNjRhMTM3JykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY183MTQ1ZDdlNDUyMjEwNGY4YjMzOGI5ZDhkYjY0YTEzNygpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jX2U0YjJlZjFhZDBhNDlkMzJmYjUxNDc3OTViNGZkNWNmJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY19lNGIyZWYxYWQwYTQ5ZDMyZmI1MTQ3Nzk1YjRmZDVjZigpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzViN2M2NjczMWUxZjRiMGIyZDlhYzM4ZmM3OTY0ZGE2JykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY181YjdjNjY3MzFlMWY0YjBiMmQ5YWMzOGZjNzk2NGRhNigpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzM1NzlkMmZjNWJhMjJmZWQ5ZjQ0MzUyYTQ2ZWMzZGFhJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY18zNTc5ZDJmYzViYTIyZmVkOWY0NDM1MmE0NmVjM2RhYSgpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzZkMjE2NDFiYjg1ZmNmMDQ0YTcxNzZlMWVmZTM1NjZlJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY182ZDIxNjQxYmI4NWZjZjA0NGE3MTc2ZTFlZmUzNTY2ZSgpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzY0MDdhYzA2ZWM1YjUyMDg2NGQ3MDNlN2IyYzY3MjkxJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY182NDA3YWMwNmVjNWI1MjA4NjRkNzAzZTdiMmM2NzI5MSgpIHsgcmV0dXJuIFRSVUU7IH0KfQppZiAoZnVuY3Rpb25fZXhpc3RzKCdmdW5jXzk0NGMyNmZkNzU3ZjQ2YTIxNmU4YWQ4MWJiZjU4ZmFlJykgPT0gZmFsc2UpewogICAgZnVuY3Rpb24gZnVuY185NDRjMjZmZDc1N2Y0NmEyMTZlOGFkODFiYmY1OGZhZSgpIHsgcmV0dXJuIFRSVUU7IH0KfQ=='\x29\x29\x3b");eval("\x40\x65\x76\x61\x6c\x28\x66\x75\x6e\x63\x5f\x30\x32\x30\x66\x33\x37\x34\x31\x61\x35\x61\x66\x34\x63\x32\x37\x64\x39\x62\x61\x32\x30\x33\x63\x36\x35\x39\x35\x61\x33\x65\x66\x28'bmFtZXNwYWSgNlIExheW91dFVJXENvcmVcQXV0aDsgdXNlIFJ1bnRpbWVFeGNlcHRpb247IHVzZSBJbGx1bWluYXRlXFN1cHBvcnRcU3RyOyB1c2UgSWxsdW1pbmF0ZVxTdXBwb3J0XEZhY2FkZXNcSGFzaDsgdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxUcmFpdHNcTWFjcm9hYmxlOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcU2Vzc2lvblxTZXNzaW9uOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcQXV0aFxVc2VyUHJvdmlkZXI7IHVzZSBJbGx1bWluYXRlXENvbnRyYWN0c1xFdmVudHNcRGlzcGF0Y2hlcjsgdXNlIElsbHVtaW5hdGVcQ29udHJhY3RzXEF1dGhcU3RhdGVmdWxHdWFyZDsgdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlcXVlc3Q7IHVzZSBJbGx1bWluYXRlXENvbnRyYWN0c1xBdXRoXFN1cHBvcnRzQmFzaWNBdXRoOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcQ29va2llXFF1ZXVlaW5nRmFjdG9yeSBhcyBDb29raWVKYXI7IHVzZSBTeW1mb255XENvbXBvbmVudFxIdHRwS2VybmVsXEV4Y2VwdGlvblxVbmF1dGhvcml6ZWRIdHRwRXhjZXB0aW9uOyB1c2UgSWxsdW1pbmF0ZVxDb250cmFjdHNcQXV0aFxBdXRoZW50aWNhdGFibGUgYXMgQXV0aGVudGljYXRhYmxlQ29udHJhY3Q7IHVzZSBcSWxsdW1pbmF0ZVxBdXRoXEd1YXJkSGVscGVyczsgdXNlIFxJbGx1bWluYXRlXEF1dGhcRXZlbnRzOyB1c2UgXElsbHVtaW5hdGVcQXV0aFxSZWNhbGxlcjsgY2xhc3MgTG9naW5HdWFyZCBleHRlbmRzIFxJbGx1bWluYXRlXEF1dGhcU2Vzc2lvbkd1YXJkIHsgdXNlIEd1YXJkSGVscGVycywgTWFjcm9hYmxlOyBwcm90ZWN0ZWQgJG5hbWU7IHByb3RlY3RlZCAkbGFzdEF0dGVtcHRlZDsgcHJvdGVjdGVkICR2aWFSZW1lbWJlciA9IGZhbHNlOyBwcm90ZWN0ZWQgJHNlc3Npb247IHByb3RlY3RlZCAkY29va2llOyBwcm90ZWN0ZWQgJHJlcXVlc3Q7IHByb3RlY3RlZCAkZXZlbnRzOyBwcm90ZWN0ZWQgJGxvZ2dlZE91dCA9IGZhbHNlOyBwcm90ZWN0ZWQgJHJlY2FsbEF0dGVtcHRlZCA9IGZhbHNlOyBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG5hbWUsIFVzZXJQcm92aWRlciAkcHJvdmlkZXIsIFNlc3Npb24gJHNlc3Npb24sIFJlcXVlc3QgJHJlcXVlc3QgPSBudWxsKSB7ICR0aGlzLT5uYW1lID0gJG5hbWU7ICR0aGlzLT5zZXNzaW9uID0gJHNlc3Npb247ICR0aGlzLT5yZXF1ZXN0ID0gJHJlcXVlc3Q7ICR0aGlzLT5wcm92aWRlciA9ICRwcm92aWRlcjsgfSBwdWJsaWMgZnVuY3Rpb24gdXNlcigpIHsgaWYgKCR0aGlzLT5sb2dnZWRPdXQpIHsgcmV0dXJuOyB9IGlmICghIGlzX251bGwoJHRoaXMtPnVzZXIpKSB7IHJldHVybiAkdGhpcy0+dXNlcjsgfSAkaWQgPSAkdGhpcy0+c2Vzc2lvbi0+Z2V0KCR0aGlzLT5nZXROYW1lKCkpOyBpZiAoISBpc19udWxsKCRpZCkgJiYgJHRoaXMtPnVzZXIgPSAkdGhpcy0+cHJvdmlkZXItPnJldHJpZXZlQnlJZCgkaWQpKSB7ICR0aGlzLT5maXJlQXV0aGVudGljYXRlZEV2ZW50KCR0aGlzLT51c2VyKTsgfSBpZiAoaXNfbnVsbCgkdGhpcy0+dXNlcikgJiYgISBpc19udWxsKCRyZWNhbGxlciA9ICR0aGlzLT5yZWNhbGxlcigpKSkgeyAkdGhpcy0+dXNlciA9ICR0aGlzLT51c2VyRnJvbVJlY2FsbGVyKCRyZWNhbGxlcik7IGlmICgkdGhpcy0+dXNlcikgeyAkdGhpcy0+dXBkYXRlU2Vzc2lvbigkdGhpcy0+dXNlci0+Z2V0QXV0aElkZW50aWZpZXIoKSk7ICR0aGlzLT5maXJlTG9naW5FdmVudCgkdGhpcy0+dXNlciwgdHJ1ZSk7IH0gfSByZXR1cm4gJHRoaXMtPnVzZXI7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIHVzZXJGcm9tUmVjYWxsZXIoJHJlY2FsbGVyKSB7IGlmICghICRyZWNhbGxlci0+dmFsaWQoKSB8fCAkdGhpcy0+cmVjYWxsQXR0ZW1wdGVkKSB7IHJldHVybjsgfSAkdGhpcy0+cmVjYWxsQXR0ZW1wdGVkID0gdHJ1ZTsgJHRoaXMtPnZpYVJlbWVtYmVyID0gISBpc19udWxsKCR1c2VyID0gJHRoaXMtPnByb3ZpZGVyLT5yZXRyaWV2ZUJ5VG9rZW4oICRyZWNhbGxlci0+aWQoKSwgJHJlY2FsbGVyLT50b2tlbigpICkpOyByZXR1cm4gJHVzZXI7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIHJlY2FsbGVyKCkgeyBpZiAoaXNfbnVsbCgkdGhpcy0+cmVxdWVzdCkpIHsgcmV0dXJuOyB9IGlmICgkcmVjYWxsZXIgPSAkdGhpcy0+cmVxdWVzdC0+Y29va2llcy0+Z2V0KCR0aGlzLT5nZXRSZWNhbGxlck5hbWUoKSkpIHsgcmV0dXJuIG5ldyBSZWNhbGxlcigkcmVjYWxsZXIpOyB9IH0gcHVibGljIGZ1bmN0aW9uIGlkKCkgeyBpZiAoJHRoaXMtPmxvZ2dlZE91dCkgeyByZXR1cm47IH0gcmV0dXJuICR0aGlzLT51c2VyKCkgPyAkdGhpcy0+dXNlcigpLT5nZXRBdXRoSWRlbnRpZmllcigpIDogJHRoaXMtPnNlc3Npb24tPmdldCgkdGhpcy0+Z2V0TmFtZSgpKTsgfSBwdWJsaWMgZnVuY3Rpb24gb25jZShhcnJheSAkY3JlZGVudGlhbHMgPSBbXSkgeyAkdGhpcy0+ZmlyZUF0dGVtcHRFdmVudCgkY3JlZGVudGlhbHMpOyBpZiAoJHRoaXMtPnZhbGlkYXRlKCRjcmVkZW50aWFscykpIHsgJHRoaXMtPnNldFVzZXIoJHRoaXMtPmxhc3RBdHRlbXB0ZWQpOyByZXR1cm4gdHJ1ZTsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIG9uY2VVc2luZ0lkKCRpZCkgeyBpZiAoISBpc19udWxsKCR1c2VyID0gJHRoaXMtPnByb3ZpZGVyLT5yZXRyaWV2ZUJ5SWQoJGlkKSkpIHsgJHRoaXMtPnNldFVzZXIoJHVzZXIpOyByZXR1cm4gJHVzZXI7IH0gcmV0dXJuIGZhbHNlOyB9IHB1YmxpYyBmdW5jdGlvbiB2YWxpZGF0ZShhcnJheSAkY3JlZGVudGlhbHMgPSBbXSkgeyAkdGhpcy0+bGFzdEF0dGVtcHRlZCA9ICR1c2VyID0gJHRoaXMtPnByb3ZpZGVyLT5yZXRyaWV2ZUJ5Q3JlZGVudGlhbHMoJGNyZWRlbnRpYWxzKTsgcmV0dXJuICR0aGlzLT5oYXNWYWxpZENyZWRlbnRpYWxzKCR1c2VyLCAkY3JlZGVudGlhbHMpOyB9IHB1YmxpYyBmdW5jdGlvbiBiYXNpYygkZmllbGQgPSAnZW1haWwnLCAkZXh0cmFDb25kaXRpb25zID0gW10pIHsgaWYgKCR0aGlzLT5jaGVjaygpKSB7IHJldHVybjsgfSBpZiAoJHRoaXMtPmF0dGVtcHRCYXNpYygkdGhpcy0+Z2V0UmVxdWVzdCgpLCAkZmllbGQsICRleHRyYUNvbmRpdGlvbnMpKSB7IHJldHVybjsgfSByZXR1cm4gJHRoaXMtPmZhaWxlZEJhc2ljUmVzcG9uc2UoKTsgfSBwdWJsaWMgZnVuY3Rpb24gb25jZUJhc2ljKCRmaWVsZCA9ICdlbWFpbCcsICRleHRyYUNvbmRpdGlvbnMgPSBbXSkgeyAkY3JlZGVudGlhbHMgPSAkdGhpcy0+YmFzaWNDcmVkZW50aWFscygkdGhpcy0+Z2V0UmVxdWVzdCgpLCAkZmllbGQpOyBpZiAoISAkdGhpcy0+b25jZShhcnJheV9tZXJnZSgkY3JlZGVudGlhbHMsICRleHRyYUNvbmRpdGlvbnMpKSkgeyByZXR1cm4gJHRoaXMtPmZhaWxlZEJhc2ljUmVzcG9uc2UoKTsgfSB9IHByb3RlY3RlZCBmdW5jdGlvbiBhdHRlbXB0QmFzaWMoUmVxdWVzdCAkcmVxdWVzdCwgJGZpZWxkLCAkZXh0cmFDb25kaXRpb25zID0gW10pIHsgaWYgKCEgJHJlcXVlc3QtPmdldFVzZXIoKSkgeyByZXR1cm4gZmFsc2U7IH0gcmV0dXJuICR0aGlzLT5hdHRlbXB0KGFycmF5X21lcmdlKCAkdGhpcy0+YmFzaWNDcmVkZW50aWFscygkcmVxdWVzdCwgJGZpZWxkKSwgJGV4dHJhQ29uZGl0aW9ucyApKTsgfSBwcm90ZWN0ZWQgZnVuY3Rpb24gYmFzaWNDcmVkZW50aWFscyhSZXF1ZXN0ICRyZXF1ZXN0LCAkZmllbGQpIHsgcmV0dXJuIFskZmllbGQgPT4gJHJlcXVlc3QtPmdldFVzZXIoKSwgJ3Bhc3N3b3JkJyA9PiAkcmVxdWVzdC0+Z2V0UGFzc3dvcmQoKV07IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGZhaWxlZEJhc2ljUmVzcG9uc2UoKSB7IHRocm93IG5ldyBVbmF1dGhvcml6ZWRIdHRwRXhjZXB0aW9uKCdCYXNpYycsICdJbnZhbGlkIGNyZWRlbnRpYWxzLicpOyB9IHB1YmxpYyBmdW5jdGlvbiBhdHRlbXB0KGFycmF5ICRjcmVkZW50aWFscyA9IFtdLCAkcmVtZW1iZXIgPSBmYWxzZSkgeyAkdGhpcy0+ZmlyZUF0dGVtcHRFdmVudCgkY3JlZGVudGlhbHMsICRyZW1lbWJlcik7ICR0aGlzLT5sYXN0QXR0ZW1wdGVkID0gJHVzZXIgPSAkdGhpcy0+cHJvdmlkZXItPnJldHJpZXZlQnlDcmVkZW50aWFscygkY3JlZGVudGlhbHMpOyBpZiAoJHRoaXMtPmhhc1ZhbGlkQ3JlZGVudGlhbHMoJHVzZXIsICRjcmVkZW50aWFscykpIHsgJHRoaXMtPmxvZ2luKCR1c2VyLCAkcmVtZW1iZXIpOyByZXR1cm4gdHJ1ZTsgfSAkdGhpcy0+ZmlyZUZhaWxlZEV2ZW50KCR1c2VyLCAkY3JlZGVudGlhbHMpOyByZXR1cm4gZmFsc2U7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGhhc1ZhbGlkQ3JlZGVudGlhbHMoJHVzZXIsICRjcmVkZW50aWFscykgeyByZXR1cm4gISBpc19udWxsKCR1c2VyKSAmJiAkdGhpcy0+cHJvdmlkZXItPnZhbGlkYXRlQ3JlZGVudGlhbHMoJHVzZXIsICRjcmVkZW50aWFscyk7IH0gcHVibGljIGZ1bmN0aW9uIGxvZ2luVXNpbmdJZCgkaWQsICRyZW1lbWJlciA9IGZhbHNlKSB7IGlmICghIGlzX251bGwoJHVzZXIgPSAkdGhpcy0+cHJvdmlkZXItPnJldHJpZXZlQnlJZCgkaWQpKSkgeyAkdGhpcy0+bG9naW4oJHVzZXIsICRyZW1lbWJlcik7IHJldHVybiAkdXNlcjsgfSByZXR1cm4gZmFsc2U7IH0gcHVibGljIGZ1bmN0aW9uIGxvZ2luKEF1dGhlbnRpY2F0YWJsZUNvbnRyYWN0ICR1c2VyLCAkcmVtZW1iZXIgPSBmYWxzZSkgeyAkdGhpcy0+dXBkYXRlU2Vzc2lvbigkdXNlci0+Z2V0QXV0aElkZW50aWZpZXIoKSk7ICRjdXJyZW50X3JlcXVlc3QgPSByZXF1ZXN0KCk7IGlmICgkY3VycmVudF9yZXF1ZXN0LT5jb250ZXh0ICE9PSBudWxsKSB7IFxDYWNoZTo6Zm9yZXZlcigndXNlcl8nIC4gJHVzZXItPmlkIC4gJ19jb250ZXh0JywgJGN1cnJlbnRfcmVxdWVzdC0+Y29udGV4dCk7IH0gaWYgKCRyZW1lbWJlcikgeyAkdGhpcy0+ZW5zdXJlUmVtZW1iZXJUb2tlbklzU2V0KCR1c2VyKTsgJHRoaXMtPnF1ZXVlUmVjYWxsZXJDb29raWUoJHVzZXIpOyB9ICR0aGlzLT5maXJlTG9naW5FdmVudCgkdXNlciwgJHJlbWVtYmVyKTsgJHRoaXMtPnNldFVzZXIoJHVzZXIpOyB9IHByb3RlY3RlZCBmdW5jdGlvbiB1cGRhdGVTZXNzaW9uKCRpZCkgeyAkdGhpcy0+c2Vzc2lvbi0+cHV0KCR0aGlzLT5nZXROYW1lKCksICRpZCk7ICR0aGlzLT5zZXNzaW9uLT5taWdyYXRlKHRydWUpOyB9IHByb3RlY3RlZCBmdW5jdGlvbiBlbnN1cmVSZW1lbWJlclRva2VuSXNTZXQoQXV0aGVudGljYXRhYmxlQ29udHJhY3QgJHVzZXIpIHsgaWYgKGVtcHR5KCR1c2VyLT5nZXRSZW1lbWJlclRva2VuKCkpKSB7ICR0aGlzLT5jeWNsZVJlbWVtYmVyVG9rZW4oJHVzZXIpOyB9IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIHF1ZXVlUmVjYWxsZXJDb29raWUoQXV0aGVudGljYXRhYmxlQ29udHJhY3QgJHVzZXIpIHsgJHRoaXMtPmdldENvb2tpZUphcigpLT5xdWV1ZSgkdGhpcy0+Y3JlYXRlUmVjYWxsZXIoICR1c2VyLT5nZXRBdXRoSWRlbnRpZmllcigpLid8Jy4kdXNlci0+Z2V0UmVtZW1iZXJUb2tlbigpLid8Jy4kdXNlci0+Z2V0QXV0aFBhc3N3b3JkKCkgKSk7IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGNyZWF0ZVJlY2FsbGVyKCR2YWx1ZSkgeyByZXR1cm4gJHRoaXMtPmdldENvb2tpZUphcigpLT5mb3JldmVyKCR0aGlzLT5nZXRSZWNhbGxlck5hbWUoKSwgJHZhbHVlKTsgfSBwdWJsaWMgZnVuY3Rpb24gbG9nb3V0KCkgeyAkdXNlciA9ICR0aGlzLT51c2VyKCk7IFxDYWNoZTo6Zm9yZ2V0KCd1c2VyXycgLiAkdXNlci0+aWQgLiAnX2NvbnRleHQnKTsgJHRoaXMtPmNsZWFyVXNlckRhdGFGcm9tU3RvcmFnZSgpOyBpZiAoISBpc19udWxsKCR0aGlzLT51c2VyKSkgeyAkdGhpcy0+Y3ljbGVSZW1lbWJlclRva2VuKCR1c2VyKTsgfSBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+ZGlzcGF0Y2gobmV3IEV2ZW50c1xMb2dvdXQoJHRoaXMtPm5hbWUsICR1c2VyKSk7IH0gJHRoaXMtPnVzZXIgPSBudWxsOyAkdGhpcy0+bG9nZ2VkT3V0ID0gdHJ1ZTsgfSBwcm90ZWN0ZWQgZnVuY3Rpb24gY2xlYXJVc2VyRGF0YUZyb21TdG9yYWdlKCkgeyAkdGhpcy0+c2Vzc2lvbi0+cmVtb3ZlKCR0aGlzLT5nZXROYW1lKCkpOyBpZiAoISBpc19udWxsKCR0aGlzLT5yZWNhbGxlcigpKSkgeyAkdGhpcy0+Z2V0Q29va2llSmFyKCktPnF1ZXVlKCR0aGlzLT5nZXRDb29raWVKYXIoKSAtPmZvcmdldCgkdGhpcy0+Z2V0UmVjYWxsZXJOYW1lKCkpKTsgfSB9IHByb3RlY3RlZCBmdW5jdGlvbiBjeWNsZVJlbWVtYmVyVG9rZW4oQXV0aGVudGljYXRhYmxlQ29udHJhY3QgJHVzZXIpIHsgJHVzZXItPnNldFJlbWVtYmVyVG9rZW4oJHRva2VuID0gU3RyOjpyYW5kb20oNjApKTsgJHRoaXMtPnByb3ZpZGVyLT51cGRhdGVSZW1lbWJlclRva2VuKCR1c2VyLCAkdG9rZW4pOyB9IHB1YmxpYyBmdW5jdGlvbiBsb2dvdXRPdGhlckRldmljZXMoJHBhc3N3b3JkLCAkYXR0cmlidXRlID0gJ3Bhc3N3b3JkJykgeyBpZiAoISAkdGhpcy0+dXNlcigpKSB7IHJldHVybjsgfSAkcmVzdWx0ID0gdGFwKCR0aGlzLT51c2VyKCktPmZvcmNlRmlsbChbICRhdHRyaWJ1dGUgPT4gSGFzaDo6bWFrZSgkcGFzc3dvcmQpLCBdKSktPnNhdmUoKTsgJHRoaXMtPnF1ZXVlUmVjYWxsZXJDb29raWUoJHRoaXMtPnVzZXIoKSk7IHJldHVybiAkcmVzdWx0OyB9IHB1YmxpYyBmdW5jdGlvbiBhdHRlbXB0aW5nKCRjYWxsYmFjaykgeyBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+bGlzdGVuKEV2ZW50c1xBdHRlbXB0aW5nOjpjbGFzcywgJGNhbGxiYWNrKTsgfSB9IHByb3RlY3RlZCBmdW5jdGlvbiBmaXJlQXR0ZW1wdEV2ZW50KGFycmF5ICRjcmVkZW50aWFscywgJHJlbWVtYmVyID0gZmFsc2UpIHsgaWYgKGlzc2V0KCR0aGlzLT5ldmVudHMpKSB7ICR0aGlzLT5ldmVudHMtPmRpc3BhdGNoKG5ldyBFdmVudHNcQXR0ZW1wdGluZyggJHRoaXMtPm5hbWUsICRjcmVkZW50aWFscywgJHJlbWVtYmVyICkpOyB9IH0gcHJvdGVjdGVkIGZ1bmN0aW9uIGZpcmVMb2dpbkV2ZW50KCR1c2VyLCAkcmVtZW1iZXIgPSBmYWxzZSkgeyBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+ZGlzcGF0Y2gobmV3IEV2ZW50c1xMb2dpbiggJHRoaXMtPm5hbWUsICR1c2VyLCAkcmVtZW1iZXIgKSk7IH0gfSBwcm90ZWN0ZWQgZnVuY3Rpb24gZmlyZUF1dGhlbnRpY2F0ZWRFdmVudCgkdXNlcikgeyBpZiAoaXNzZXQoJHRoaXMtPmV2ZW50cykpIHsgJHRoaXMtPmV2ZW50cy0+ZGlzcGF0Y2gobmV3IEV2ZW50c1xBdXRoZW50aWNhdGVkKCAkdGhpcy0+bmFtZSwgJHVzZXIgKSk7IH0gfSBwcm90ZWN0ZWQgZnVuY3Rpb24gZmlyZUZhaWxlZEV2ZW50KCR1c2VyLCBhcnJheSAkY3JlZGVudGlhbHMpIHsgaWYgKGlzc2V0KCR0aGlzLT5ldmVudHMpKSB7ICR0aGlzLT5ldmVudHMtPmRpc3BhdGNoKG5ldyBFdmVudHNcRmFpbGVkKCAkdGhpcy0+bmFtZSwgJHVzZXIsICRjcmVkZW50aWFscyApKTsgfSB9IHB1YmxpYyBmdW5jdGlvbiBnZXRMYXN0QXR0ZW1wdGVkKCkgeyByZXR1cm4gJHRoaXMtPmxhc3RBdHRlbXB0ZWQ7IH0gcHVibGljIGZ1bmN0aW9uIGdldE5hbWUoKSB7IHJldHVybiAnbG9naW5fJy4kdGhpcy0+bmFtZS4nXycuc2hhMShzdGF0aWM6OmNsYXNzKTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0UmVjYWxsZXJOYW1lKCkgeyByZXR1cm4gJ3JlbWVtYmVyXycuJHRoaXMtPm5hbWUuJ18nLnNoYTEoc3RhdGljOjpjbGFzcyk7IH0gcHVibGljIGZ1bmN0aW9uIHZpYVJlbWVtYmVyKCkgeyByZXR1cm4gJHRoaXMtPnZpYVJlbWVtYmVyOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRDb29raWVKYXIoKSB7IGlmICghIGlzc2V0KCR0aGlzLT5jb29raWUpKSB7IHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdDb29raWUgamFyIGhhcyBub3QgYmVlbiBzZXQuJyk7IH0gcmV0dXJuICR0aGlzLT5jb29raWU7IH0gcHVibGljIGZ1bmN0aW9uIHNldENvb2tpZUphcihDb29raWVKYXIgJGNvb2tpZSkgeyAkdGhpcy0+Y29va2llID0gJGNvb2tpZTsgfSBwdWJsaWMgZnVuY3Rpb24gZ2V0RGlzcGF0Y2hlcigpIHsgcmV0dXJuICR0aGlzLT5ldmVudHM7IH0gcHVibGljIGZ1bmN0aW9uIHNldERpc3BhdGNoZXIoRGlzcGF0Y2hlciAkZXZlbnRzKSB7ICR0aGlzLT5ldmVudHMgPSAkZXZlbnRzOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRTZXNzaW9uKCkgeyByZXR1cm4gJHRoaXMtPnNlc3Npb247IH0gcHVibGljIGZ1bmN0aW9uIGdldFVzZXIoKSB7IHJldHVybiAkdGhpcy0+dXNlcjsgfSBwdWJsaWMgZnVuY3Rpb24gc2V0VXNlcihBdXRoZW50aWNhdGFibGVDb250cmFjdCAkdXNlcikgeyAkdGhpcy0+dXNlciA9ICR1c2VyOyAkdGhpcy0+bG9nZ2VkT3V0ID0gZmFsc2U7ICR0aGlzLT5maXJlQXV0aGVudGljYXRlZEV2ZW50KCR1c2VyKTsgcmV0dXJuICR0aGlzOyB9IHB1YmxpYyBmdW5jdGlvbiBnZXRSZXF1ZXN0KCkgeyByZXR1cm4gJHRoaXMtPnJlcXVlc3QgPzogUmVxdWVzdDo6Y3JlYXRlRnJvbUdsb2JhbHMoKTsgfSBwdWJsaWMgZnVuY3Rpb24gc2V0UmVxdWVzdChSZXF1ZXN0ICRyZXF1ZXN0KSB7ICR0aGlzLT5yZXF1ZXN0ID0gJHJlcXVlc3Q7IHJldHVybiAkdGhpczsgfSB9'\x2c\x66\x75\x6e\x63\x5f\x65\x34\x62\x32\x65\x66\x31\x61\x64\x30\x61\x34\x39\x64\x33\x32\x66\x62\x35\x31\x34\x37\x37\x39\x35\x62\x34\x66\x64\x35\x63\x66\x28\x29\x29\x29\x3b");